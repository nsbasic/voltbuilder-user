"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}/**************************************************************************************/ // Bootstrap 4 functions
// copyright 2020 NSB Corporation. All rights reserved.
var NSB=NSB||{};// setup the NSB namespace, if needed
NSB.bs={};NSB.overlayShowing=[];NSB.bs.addProperties=function(ctrl,type){if(type!="DataTable_bs4"&&type!="Breadcrumbs_bs4"&&type!="Progressbar_bs4"&&type!="Dropdown_bs4"){$("#"+ctrl.id).addClass("collapse show");ctrl.collapse=function(arg){if(!arg)arg=$("#"+ctrl.id).hasClass("in")?"hide":"show";$("#"+ctrl.id).collapse(arg)}};ctrl.hide=function(options){// if the BS control has an overlay (popover, dropdown, etc.), BS calls
// hide for the control  when it closes. NSB.overlayShowing
// flags that the hide is coming from Bootstrap and not the user,
// so it clears the flag and ignores the hide request.
if(NSB.overlayShowing[ctrl.id]){NSB.overlayShowing[ctrl.id]=false}else{$("#"+ctrl.id).hide(options)}};$("[data-toggle=\"popover\"]").on("show.bs.popover",function(e){NSB.overlayShowing[e.target.id]=true});$("[data-toggle=\"tooltip\"]").on("show.bs.tooltip",function(e){NSB.overlayShowing[e.target.id]=true});ctrl.show=function(options){$("#"+ctrl.id).show(options)};ctrl.toggle=function(options){if($(ctrl).hasClass("modal"))$(ctrl).modal("toggle");else $("#"+ctrl.id).toggle(options)};NSB.bs.define.badge(ctrl,type);ctrl.fadeIn=function(a,c,d){$("#"+ctrl.id).fadeIn(a,c,d)};ctrl.fadeOut=function(a,c,d){$("#"+ctrl.id).fadeOut(a,c,d)};ctrl.slideUp=function(a,c,d){$("#"+ctrl.id).slideUp(a,c,d)};ctrl.slideDown=function(a,c,d){$("#"+ctrl.id).slideDown(a,c,d)};NSB.addProperties.addChild(ctrl);NSB.addProperties.bounds(ctrl);switch(type){case"Alert_bs4":NSB.bs.alert.init(ctrl);break;case"Breadcrumbs_bs4":NSB.bs.breadcrumbs.init(ctrl);break;case"Button_bs4":NSB.bs.button.init(ctrl);break;case"Checkbox_bs4":NSB.bs.checkbox.init(ctrl);break;case"DataTable_bs4":NSB.bs.datatable.init(ctrl);break;case"Dropdown_bs4":NSB.bs.dropdown.init(ctrl);break;case"Fliptoggle_bs4":NSB.bs.fliptoggle.init(ctrl);break;case"GridColumn_bs4":NSB.bs.gridcolumn.init(ctrl);break;case"Hamburger_bs4":NSB.bs.dropdown.init(ctrl);break;//Added by BT
case"Heading_bs4":NSB.bs.define.text(ctrl,"value","");break;case"Input_bs4":NSB.bs.input.init(ctrl);break;case"Jumbotron_bs4":NSB.bs.jumbotron.init(ctrl);break;case"Label_bs4":NSB.bs.label.init(ctrl);break;case"Listgroup_bs4":NSB.bs.listgroup.init(ctrl);break;case"Media_bs4":NSB.bs.define.src(ctrl);break;case"Modal_bs4":NSB.bs.modal.init(ctrl);break;case"Navs_bs4":NSB.bs.navs.init(ctrl);break;case"Pagination_bs4":NSB.bs.pagination.init(ctrl);break;case"Panel_bs4":NSB.bs.panel.init(ctrl);break;case"Progressbar_bs4":NSB.bs.progressbar.init(ctrl);break;case"Radiobutton_bs4":NSB.bs.radiobutton.init(ctrl);break;case"Select_bs4":NSB.bs.select.init(ctrl);break;case"Textarea_bs4":NSB.bs.input.init(ctrl);break;case"Thumbnail_bs4":NSB.bs.define.src(ctrl);break;}};NSB.bs.alert={init:function init(ctrl){NSB.bs.define.appearance(ctrl);NSB.bs.define.text(ctrl,"value","")}};NSB.bs.breadcrumbs={init:function init(ctrl){NSB.bs.define.length(ctrl);NSB.bs.define.disabled_contents(ctrl);ctrl.setValue=function(arrItems){var i,s,onclick,i18n;if(arrItems==="")arrItems=[];s=onclick="";for(i=0;i<arrItems.length;i++){onclick=" onclick='if (!this.disabled) ".concat(this.id,".onclick(this.textContent);'");i18n=" data-i18n='".concat(arrItems[i],"'");if(i!=arrItems.length-1&&!this.disabled){s+="  <li id=".concat(this.id,"_").concat(i," class='breadcrumb-item'").concat(onclick).concat(i18n," style='cursor:pointer'><a>").concat(arrItems[i],"</a></li>\n")}else{s+="  <li id=".concat(this.id,"_").concat(i," class='active breadcrumb-item'").concat(onclick).concat(i18n," style='cursor:not-allowed'>").concat(arrItems[i],"</li>\n")}}// console.log(s);
this.innerHTML=s}}};NSB.bs.button={init:function init(ctrl){NSB.bs.define.appearance(ctrl);NSB.bs.define.text(ctrl,"value","")}};NSB.bs.checkbox={make:function make(id,style,disabled,items,inline,value){var i,s,arrItems,item,type;arrItems=items.split("\n");if(items===""){arrItems=[]}s="";if(inline)s+="<br>\n";s+="  <div id='"+id+"_contents'>";for(i=0;i<arrItems.length;i++){item=arrItems[i];type="";if(item.substr(0,1)=="*")type="disabled";if(item.substr(0,1)==">")type="checked";if("*>".indexOf(item.substr(0,1))>=0)item=item.substr(1);if(i===value)type="checked";if(disabled!=="")type="disabled";s+=this.getHTML(id,i,item,type,inline)}s+="\n  </div>\n";// console.log(s);
return s},init:function init(ctrl){NSB.bs.define.disabled_contents(ctrl);NSB.bs.define.length(ctrl);NSB.bs.define.header_control_label(ctrl);NSB.bs.define.footer_help_block(ctrl);NSB.bs.define.placeholder(ctrl);ctrl.addItem=this.addItem;ctrl.clear=function(){$("#"+this.id+"_contents").empty()};NSB.defineProperty(ctrl,"value",{set:function set(n){if(ctrl.length===1){$("#"+ctrl.id+"_0").prop("checked",n);return};for(var i=0;i<ctrl.length;i++){NSB.$(ctrl.id+"_"+i).checked=i===n}},get:function get(){if(ctrl.length===1)return $("#"+ctrl.id+"_0").prop("checked");for(var i=0;i<ctrl.length;i++){if(NSB.$(ctrl.id+"_"+i).checked)return i}return-1}});ctrl.getValue=function(n){try{return NSB.$(ctrl.id+"_"+n).checked}catch(err){console.log("Error: Checkbox getValue out of range.",err.message)}};ctrl.setValue=function(n,val){if(typeof val!=="boolean")return;try{NSB.$(ctrl.id+"_"+n).checked=val}catch(err){console.log("Error: Checkbox setValue out of range.",err.message)};}},getHTML:function getHTML(id,i,item,type,inline){// type can be '', disabled or checked.
if(type!=="")type=" "+type;var s="\n            <div class='form-check".concat(inline?" form-check-inline":"","'>\n              <input id=").concat(id,"_").concat(i," class='form-check-input' type='checkbox'").concat(type," value='").concat(item,"'>\n              <label class='form-check-label' data-i18n='").concat(item,"'>").concat(item,"</label>\n            </div>");return s},addItem:function addItem(item,type){var inline=$("#"+this.id+"_0").parent().hasClass("form-check-inline");var s=NSB.bs.checkbox.getHTML(this.id,this.length,item,type,inline);NSB.$(this.id+"_contents").insertAdjacentHTML("beforeend",s)}};NSB.bs.datatable={init:function init(ctrl){ctrl.clear=function(){if(this.innerHTML!=""){$("#"+this.id).DataTable().destroy();$("#"+this.id).empty();$("#"+this.id).off("click","td")}};ctrl.build=function(){this.clear();$("#"+this.id).DataTable(this.settings)}}};NSB.bs.dropdown={//also used by Hamburger
dropdowngroup:"",make:function make(id,value,dropdown,klass,disabled,style,styleb,buttonStyle,outline,size,icon,iconTitle,align,items,grouping,groupStyle,bsBadge,bsPopover,filter,filterPlaceholder){var i,s,gs,gr,arrItems,item,type;arrItems=items.split("\n");if(items===""){arrItems=[]}if(klass!=="")klass=" "+klass;s="";if(grouping!==""&&grouping!=="end"){gs=groupStyle===""?"":" style='"+groupStyle+"'";gr=grouping==="vertical"?"btn-group-vertical":"btn-group";s+="<div id='"+id+"_group' class='"+gr+klass+"' role='group'"+gs+">\n";this.dropdowngroup="btn-group "}s+="<div id='"+id+"' class='"+this.dropdowngroup+dropdown+klass+"' value='"+value+"'";s+=" style='line-height:24px;"+style+"' onclick=''"+bsPopover+">\n";var dd=icon==="caret"||icon===""?"dropdown-toggle ":"";s+="  <button id='"+id+"_button' class='btn "+dd+buttonStyle.substr(0,5)+outline+buttonStyle.substr(5)+size+"'";if(styleb!=="")s+=" style='"+styleb+"'";s+=" data-i18n='"+value+"'";s+=" type='button' data-toggle='dropdown'"+disabled+">\n";s+="    "+value+"\n";s+="    "+bsBadge+"\n";if(icon=="caret"){s+="    <span class='"+icon+"'></span>\n"}else{s+="    <span class='oi oi-"+icon+"' title='"+iconTitle+"' data-i18n='"+iconTitle+"'></span>\n"}s+="  </button>\n";s+="  <div id='"+id+"_contents' class='dropdown-menu"+align+"' >\n";if(filter==="true"){s+="<input class=\"form-control\" id=\""+id+"_input\" type=\"text\" placeholder=\""+filterPlaceholder+"\">\n"}for(i=0;i<arrItems.length;i++){item=arrItems[i];type="";if("-!*>".indexOf(item.substr(0,1))>=0){type=["divider","header","disabled","active"]["-!*>".indexOf(item.substr(0,1))];item=item.substr(1)}s+=this.getHTML(id,i,item,type)}s+="  </div>\n";s+="</div>\n";if(grouping=="end"){s+="</div>\n";this.dropdowngroup=""}//console.log(s);
return s},init:function init(ctrl){NSB.bs.define.length(ctrl);NSB.bs.define.disabled_button(ctrl);ctrl.addItem=this.addItem;ctrl.enable=this.enable;//Added by BT
ctrl.clear=function(){$("#"+this.id+"_contents").empty()};NSB.defineProperty(ctrl,"value",{set:function set(n){NSB.$(ctrl.id+"_button").innerHTML=NSB.$(ctrl.id+"_button").innerHTML.replace(ctrl.value,n)},get:function get(){return $("#"+ctrl.id+"_button").text().trim()}});$("#"+ctrl.id).on("show.bs.dropdown",function(){NSB.overlayShowing[ctrl.id]=true});$("#"+ctrl.id+"_input").on("keyup",function(){var value=$(this).val().toLowerCase();$(".dropdown-menu a").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(value)>-1)})})},getHTML:function getHTML(id,i,item,type){var s,onclick,idprop;idprop="id='"+id+"_"+i+"'";switch(type){case"header":s="    <div "+idprop+" class='dropdown-header'>"+item+"</div>\n";break;case"divider":s="    <div "+idprop+" class='dropdown-divider'></div>\n";break;case"active":s="    <a "+idprop+" class='dropdown-item active' style='cursor:default'>"+item+"</a>\n";break;case"disabled":s="    <a "+idprop+" class='dropdown-item disabled' tabindex=-1>"+item+"</a>\n";break;default:onclick=" onclick='"+id+".selection=this.textContent;"+id+".onclick(this.textContent);'";s="    <a "+idprop+onclick+" class='dropdown-item' style='cursor:default' data-i18n='"+item+"'>"+item+"</a>\n";}return s},addItem:function addItem(item,type){var s=NSB.bs.dropdown.getHTML(this.id,this.length,item,type);NSB.$(this.id+"_contents").insertAdjacentHTML("beforeend",s)},enable:function enable(index,_enable){//Added by BT
var i;var type="";var cntl;if(typeof index==="boolean"){_enable=index;index="ALL"}if(_enable===false){type="disabled"}function toggleEnable(cntl,type){var obj=$("#"+cntl);obj=obj[0];var pobj=obj.parentElement.parentElement;if(obj.classList.contains("divider"))return;$("#"+cntl).removeClass("disabled");if(type===""){$("#"+cntl).attr("onclick",pobj.id+".selection = this.textContent; "+pobj.id+".onclick(this.textContent);")}else{obj.removeAttribute("onclick")}$("#"+cntl).addClass(type);$("#"+cntl).attr("style","cursor:default")}if(typeof index==="number"){cntl=this.id+"_"+index;toggleEnable(cntl,type)}else if(_typeof(index)==="object"){for(i=0;i<index.length;i++){cntl=this.id+"_"+index[i];toggleEnable(cntl,type)}}else{//assume ALL controls get set the same
for(i=0;i<this.length;i++){cntl=this.id+"_"+i;toggleEnable(cntl,type)}}}};NSB.bs.fliptoggle={init:function init(ctrl){NSB.bs.define.prop(ctrl,"value"," input","checked");NSB.bs.define.text(ctrl,"text","_text");NSB.defineProperty(ctrl,"disabled",{set:function set(n){NSB.$(ctrl.id+"_value").disabled=n},get:function get(){return NSB.$(ctrl.id+"_value").disabled}})}};NSB.bs.gridcolumn={init:function init(ctrl){ctrl.style["float"]="none"}};NSB.bs.input={init:function init(ctrl){NSB.bs.define.header_control_label(ctrl);NSB.bs.define.footer_help_block(ctrl);NSB.bs.define.placeholder(ctrl);NSB.defineProperty(ctrl,"value",{set:function set(n){$("#"+ctrl.id+"_contents").val(n)},get:function get(){return $("#"+ctrl.id+"_contents").val()}});NSB.defineProperty(ctrl,"text",{set:function set(n){$("#"+ctrl.id+"_contents").val(n)},get:function get(){return $("#"+ctrl.id+"_contents").val()}});NSB.defineProperty(ctrl,"disabled",{set:function set(n){NSB.$(ctrl.id+"_contents").disabled=n},get:function get(){return NSB.$(ctrl.id+"_contents").disabled}});NSB.defineProperty(ctrl,"datalist",{set:function set(n){var options;if(n==="")return;if(Array.isArray(n)){options=n}else{options=n.split("\n")}var s="<datalist id="+ctrl.id+"_datalist>\n";s="";for(var i=0;i<options.length;i+=1){s+="  <option value = \""+options[i]+"\">\n"}if(typeof window[ctrl.id+"_datalist"]==="undefined"){var newElement=document.createElement("datalist");newElement.id=ctrl.id+"_datalist";document.body.appendChild(newElement);$("#"+ctrl.id+"_contents").attr("list",ctrl.id+"_datalist",n)}NSB.$(ctrl.id+"_datalist").innerHTML=s}});NSB.defineProperty(ctrl,"files",{get:function get(){return NSB.$(ctrl.id+"_contents").files}});NSB.defineProperty(ctrl,"selectionStart",{set:function set(n){NSB.$(ctrl.id+"_contents").selectionStart=n},get:function get(){return NSB.$(ctrl.id+"_contents").selectionStart}});NSB.defineProperty(ctrl,"selectionEnd",{set:function set(n){NSB.$(ctrl.id+"_contents").selectionEnd=n},get:function get(){return NSB.$(ctrl.id+"_contents").selectionEnd}});NSB.$(ctrl.id).select=function(){NSB.$(ctrl.id+"_contents").select()};NSB.$(ctrl.id).focus=function(){NSB.$(ctrl.id+"_contents").focus()}}};NSB.bs.jumbotron={init:function init(ctrl){NSB.bs.define.disabled_button(ctrl);NSB.bs.define.text(ctrl,"header"," h1");NSB.bs.define.text(ctrl,"value"," p:nth-child(2)");NSB.bs.define.text(ctrl,"buttonValue","_button")}};NSB.bs.label={init:function init(ctrl){NSB.bs.define.appearance(ctrl);NSB.bs.define.text(ctrl,"value","");NSB.bs.define.text(ctrl,"text","")}};NSB.bs.listgroup={make:function make(id,style,klass,disabled,items,itemBadges,appearances,listStyle,bsPopover,icons){var i,s,arrItems,arrBadges,arrAppearances,arrIcons,item,type;arrItems=items.split("\n");arrBadges=itemBadges.split("\n");arrAppearances=appearances.split("\n");arrIcons=icons.split("\n");if(items==="")arrItems=arrBadges=arrAppearances=[];if(klass!=="")klass=" "+klass;s="<"+listStyle+" id='"+id+"' class='list-group"+klass+"' style='"+style+"'"+disabled+bsPopover+" onclick=''>\n";for(i=0;i<arrItems.length;i++){item=arrItems[i];type="";if(item.substr(0,1)==">"){type=" active";item=item.substr(1)}if(disabled!==""&&item.substr(0,1)!=="*")item="*"+item;if(item.substr(0,1)=="*"){type=" disabled";item=item.substr(1)}if(i>appearances.length-1)arrAppearances[i]="default";if(i>arrBadges.length-1)arrBadges[i]="";if(i>arrIcons.length-1)arrIcons[i]="";s+=this.getHTML(id,i,item,type,arrBadges[i],arrAppearances[i],listStyle,arrIcons[i])}s+="</"+listStyle+">";// console.log(s);
return s},init:function init(ctrl){ctrl.value=-1;NSB.bs.define.length(ctrl);NSB.bs.define.disabled_contents(ctrl);ctrl.addItem=this.addItem;ctrl.badge=this.badge;ctrl.clear=function(){$("#"+this.id).empty()}},getHTML:function getHTML(id,i,item,type,badge,appearance,listStyle,icon){var s,idprop,onclick,style,k,i18n,ik;if(badge!=="")badge="&nbsp;<span id='"+id+"_"+i+"_badge' class='badge badge-primary badge-pill'>"+badge+"</span>";idprop="id='"+id+"_"+i+"'";if(type!=" disabled"){onclick=" onclick='if (!"+id+".disabled) {"+id+".value="+i+";"+id+".selection=\""+item+"\";"+id+".onclick("+i+");}'";style=" style='cursor:pointer'"}else{style=" style='cursor:not-allowed'"}k=" class = 'list-group-item d-flex justify-content-between align-items-center"+type;ik=icon!==""?"&nbsp;<span class='oi oi-"+icon+" form-control-feedback' aria-hidden='true'></span>":"";i18n=" data-i18n='"+item+"'";if(listStyle=="div"){if(appearance!=="default")k+=" list-group-item-"+appearance;s="  <button "+idprop+" type='button'"+k+"'"+onclick+style+i18n+">"+badge+item+ik+"</button>\n"}else{if(appearance!=="default")k+=" list-group-item-"+appearance;s="  <li "+idprop+k+"'"+onclick+style+i18n+">"+item+badge+ik+"</li>\n"}return s},addItem:function addItem(item,type,appearance){// type can be empty, active or disabled.
if(!type)type="";if(type!=="")type=" "+type;if(!appearance||appearance==="")appearance="default";var listStyle=NSB.$(this.id).tagName==="UL"?"ul":"div";var s=NSB.bs.listgroup.getHTML(this.id,this.length,item,type,"",appearance,listStyle);NSB.$(this.id).insertAdjacentHTML("beforeEnd",s)},badge:function badge(i,n){if(!n){return $("#"+this.id+"_"+i+"_badge").text()}else{$("#"+this.id+"_"+i+"_badge").text(n)}}};NSB.bs.modal={init:function init(ctrl){$(ctrl).removeClass("collapse show");NSB.defineProperty(ctrl,"header",{set:function set(n){if($("#"+ctrl.id+" .modal-title").length===0)$(ctrl).prepend("<h4 class='modal-title'><span id="+ctrl.id+"_badge class=badge></span></h4>");$("#"+ctrl.id+" .modal-title").html(n)},get:function get(){return $("#"+ctrl.id+" .modal-title").html()}});NSB.defineProperty(ctrl,"value",{set:function set(n){if($("#"+ctrl.id+" .modal-body").length===0)$(ctrl).append("<div class='modal-body'></div>");$("#"+ctrl.id+" .modal-body").html(n)},get:function get(){return $("#"+ctrl.id+" .modal-body").html()}});NSB.defineProperty(ctrl,"footer",{set:function set(n){if($("#"+ctrl.id+" .modal-footer").length===0)$(ctrl).append("<div class='modal-footer'></div>");$("#"+ctrl.id+" .modal-footer").html(n)},get:function get(){return $("#"+ctrl.id+" .modal-footer").html()}})}};NSB.bs.navs={make:function make(id,disabled,items,color){var i,s,k,arrItems,item,onclick,idprop;arrItems=items.split("\n");if(items==="")arrItems=[];s="";for(i=0;i<arrItems.length;i++){item=arrItems[i];k="";if(item.substr(0,1)==">"){k+=" active";item=item.substr(1)}if(disabled!==""&&item.substr(0,1)!=="*")item="*"+item;if(item.substr(0,1)=="*"){k+=" disabled";item=item.substr(1)}s+=this.getHTML(id,i,item,k,color)}// console.log(s);
return s},init:function init(ctrl){NSB.bs.define.length(ctrl);NSB.bs.define.disabled_contents(ctrl);ctrl.addItem=this.addItem;ctrl.enable=this.enable;//Added by BT
ctrl.item=this.item;//Added by BT
ctrl.addEventListener("onclick",function(ctrl){return ctrl});ctrl.clear=function(){$("#"+this.id).empty()};NSB.defineProperty(ctrl,"value",{set:function set(n){if(n>=$("[id^="+ctrl.id+"_"+"] a").length)return;$("[id^="+ctrl.id+"_"+"] a").removeClass("active");if(n>=0)$("#"+ctrl.id+"_"+n+" a").addClass("active")},get:function get(){for(var i=0;i<ctrl.length;i++){if($("#"+ctrl.id+"_"+i+" a").hasClass("active"))return i}return-1}})},getHTML:function getHTML(id,i,item,type,color){var onclick,idprop,s,c,i18n;if(type!=="")type=" "+type;onclick="onclick=\"event.stopPropagation(); if (!$('#".concat(id,"_").concat(i," a').hasClass('disabled')) {").concat(id,".value=").concat(i,";").concat(id,".onclick(").concat(i,");}\"");idprop="id='".concat(id,"_").concat(i,"'");s="  <li ".concat(idprop," class='nav-item' ").concat(onclick," style='line-height:24px; cursor:pointer'>");c=color==""?"":" style='color:".concat(color,"'");i18n=" data-i18n='".concat(item,"'");s+="<a class='nav-link".concat(type,"'").concat(c," href='#' ").concat(i18n,">").concat(item,"</a></li>\n");return s},addItem:function addItem(item,active,disabled){var type="";if(active)type="active";if(disabled)type="disabled";var s=NSB.bs.navs.getHTML(this.id,this.length,item,type);NSB.$(this.id+"_list").insertAdjacentHTML("beforeend",s);//console.log(s);
},enable:function enable(index,_enable2){//Added by BT
var i;var type="";var cntl;if(typeof index==="boolean"){_enable2=index;index="ALL"}if(_enable2===false){type="disabled"}function toggleEnable(cntl,type){$("#"+cntl).removeClass("disabled");$("#"+cntl).addClass(type)}if(typeof index==="number"){cntl=this.id+"_"+index;toggleEnable(cntl,type)}else if(_typeof(index)==="object"){for(i=0;i<index.length;i++){cntl=this.id+"_"+index[i];toggleEnable(cntl,type)}}else{//assume ALL controls get set the same
for(i=0;i<this.length;i++){cntl=this.id+"_"+i;toggleEnable(cntl,type)}}},item:function item(){//Added by BT
return this.children[this.value].innerText}};NSB.bs.pagination={make:function make(id,disabled,items,size){var i,s,k,arrItems,item,onclick,idprop;items="&laquo;\n"+items+"\n&raquo;";arrItems=items.split("\n");if(items==="")arrItems=[];s="";for(i=0;i<arrItems.length;i++){item=arrItems[i];k="pagination"+size;if(item.substr(0,1)==">"){k+=" active";item=item.substr(1)}if(disabled!==""&&item.substr(0,1)!=="*")item="*"+item;if(item.substr(0,1)=="*"){k+=" disabled";item=item.substr(1)}s+=this.getHTML(id,i,item,k)}//console.log(s);
return s},init:function init(ctrl){NSB.bs.define.length(ctrl);NSB.bs.define.disabled_contents(ctrl);ctrl.addItem=this.addItem;ctrl.clear=function(){$("#"+this.id+"_contents").empty()};NSB.defineProperty(ctrl,"value",{set:function set(n){if(n>=ctrl.length)return;$("[id^="+ctrl.id+"_"+"]").removeClass("active");if(n>=0)$("#"+ctrl.id+"_"+n).addClass("active")},get:function get(){for(var i=0;i<ctrl.length;i++){if($("#"+ctrl.id+"_"+i).hasClass("active"))return i}return-1}})},getHTML:function getHTML(id,i,item,type){var onclick,idprop,s,a,i18n;if(type!=="")type=" "+type;onclick="onclick='if (!"+id+".disabled) {"+id+".value="+i+";"+id+".onclick("+i+");}'";idprop="id='"+id+"_"+i+"'";i18n=" data-i18n='".concat(item,"'");a="<a class='page-link' href=\"#\"".concat(i18n,">").concat(item,"</a>");s="  <li ".concat(idprop," class='page-item ").concat(type,"' ").concat(onclick," style='cursor:pointer'>").concat(a,"</li>\n");return s},addItem:function addItem(item,type){var s=NSB.bs.pagination.getHTML(this.id,this.length,item,type);NSB.$(this.id+"_contents").insertAdjacentHTML("beforeend",s);//console.log(s);
}};NSB.bs.panel={init:function init(ctrl){NSB.bs.define.appearance(ctrl);NSB.defineProperty(ctrl,"header",{set:function set(n){if($("#"+ctrl.id+" .panel-heading").length===0)$(ctrl).prepend("<div class='panel-heading'><span id="+ctrl.id+"_badge class=badge></div>");$("#"+ctrl.id+" .panel-heading").text(n)},get:function get(){return $("#"+ctrl.id+" .panel-heading").text()}});NSB.defineProperty(ctrl,"value",{set:function set(n){if($("#"+ctrl.id+" .panel-body").length===0)$(ctrl).append("<div class='panel-body'></div>");$("#"+ctrl.id+" .panel-body").text(n)},get:function get(){return $("#"+ctrl.id+" .panel-body").text()}});NSB.defineProperty(ctrl,"footer",{set:function set(n){if($("#"+ctrl.id+" .panel-footer").length===0)$(ctrl).append("<div class='panel-footer'></div>'></div>");$("#"+ctrl.id+" .panel-footer").text(n)},get:function get(){return $("#"+ctrl.id+" .panel-footer").text()}})}};NSB.bs.progressbar={init:function init(ctrl){NSB.bs.define.appearance(ctrl);NSB.defineProperty(ctrl,"value",{set:function set(n){$("#"+ctrl.id+"_contents").attr("valuenow",n);$("#"+ctrl.id+"_contents").html(n+"%");$("#"+ctrl.id+"_contents").css("width",n+"%")},get:function get(){return $("#"+ctrl.id+"_contents").attr("valuenow")}})}};NSB.bs.radiobutton={make:function make(id,style,disabled,items,inline,value){var i,s,arrItems,item,type;arrItems=items.split("\n");if(items===""){arrItems=[]}s="";if(inline!=="")s+="<br>\n";s+="  <div id='"+id+"_contents'>";for(i=0;i<arrItems.length;i++){item=arrItems[i];type="";if(item.substr(0,1)=="*")type="disabled";if(item.substr(0,1)==">"&&value==="")type="checked";if("*>".indexOf(item.substr(0,1))>=0)item=item.substr(1);if(i===value)type="checked";if(disabled!=="")type="disabled";s+=this.getHTML(id,i,item,type,inline)}s+="  \n</div>\n";// console.log(s);
return s},init:function init(ctrl){NSB.bs.define.disabled_contents(ctrl);NSB.bs.define.length(ctrl);NSB.bs.define.header_control_label(ctrl);NSB.bs.define.footer_help_block(ctrl);NSB.bs.define.placeholder(ctrl);ctrl.addItem=this.addItem;ctrl.clear=function(){$("#"+this.id+"_contents").empty()};NSB.defineProperty(ctrl,"value",{set:function set(n){for(var i=0;i<ctrl.length;i++){NSB.$(ctrl.id+"_"+i).checked=i===n}},get:function get(){for(var i=0;i<ctrl.length;i++){if(NSB.$(ctrl.id+"_"+i).checked)return i}return-1}})},getHTML:function getHTML(id,i,item,type,inline){// type can be '', disabled or checked.
if(type!=="")type=" "+type;var s="\n            <div class='form-check".concat(inline?" form-check-inline":"","'>\n              <input id=").concat(id,"_").concat(i," class='form-check-input' type='radio'").concat(type," value='").concat(item,"' name=").concat(id,">\n              <label class='form-check-label' data-i18n='").concat(item,"'>").concat(item,"</label>\n            </div>");return s},addItem:function addItem(item,selected,disabled){var inline=$("#"+this.id+"_0").parent().hasClass("form-check-inline");var s=NSB.bs.radiobutton.getHTML(this.id,this.length,item,selected,disabled,inline);NSB.$(this.id+"_contents").insertAdjacentHTML("beforeend",s)}};NSB.bs.select={make:function make(id,style,disabled,items,values,multiSelect,size){var i,s,arrItems,arrValues,item,type,value;arrItems=items.split("\n");if(items===""){arrItems=[]}arrValues=values.split("\n");if(values===""){arrValues=[]}if(multiSelect!=="")multiSelect=" multiple";if(size!=="")size=" size="+size;var contentStyle=" style=\"font-size:inherit\"";s="<select id='"+id+"_contents' class='form-control'"+disabled+multiSelect+size+contentStyle+">\n";for(i=0;i<arrItems.length;i++){item=arrItems[i];value=typeof arrValues[i]==="undefined"?"":arrValues[i];type="";if(item.substr(0,1)=="*"){type="disabled";item=item.substr(1)}if(item.substr(0,1)==">"){type="selected";item=item.substr(1)}s+=this.getHTML(id,i,item,value,type)}s+="</select>";// console.log(s);
return s},init:function init(ctrl){NSB.bs.define.length(ctrl);NSB.bs.define.header_control_label(ctrl);NSB.bs.define.footer_help_block(ctrl);NSB.bs.define.placeholder(ctrl);ctrl.addItem=this.addItem;ctrl.clear=function(){$("#"+this.id+"_contents").empty();NSB.$(this.id+"_contents").focus()};NSB.defineProperty(ctrl,"item",{set:function set(n){for(var i=0;i<ctrl.length;i++){NSB.$(ctrl.id+"_"+i).selected=i===n}},get:function get(){var arr=[];for(var i=0;i<ctrl.length;i++){if(NSB.$(ctrl.id+"_"+i).selected)arr.push(i)}if(arr.length==0)return-1;if(arr.length==1)return arr[0];return arr}});NSB.defineProperty(ctrl,"text",{set:function set(n){for(var i=0;i<ctrl.length;i++){NSB.$(ctrl.id+"_"+i).selected=NSB.$(ctrl.id+"_"+i).text===n}},get:function get(){var arr=[];for(var i=0;i<ctrl.length;i++){if(NSB.$(ctrl.id+"_"+i).selected)arr.push(NSB.$(ctrl.id+"_"+i).text)}if(arr.length==0)return-1;if(arr.length==1)return arr[0];return arr}});NSB.defineProperty(ctrl,"value",{set:function set(n){for(var i=0;i<ctrl.length;i++){NSB.$(ctrl.id+"_"+i).selected=NSB.$(ctrl.id+"_"+i).value===n}},get:function get(){var arr=[];for(var i=0;i<ctrl.length;i++){if(NSB.$(ctrl.id+"_"+i).selected)arr.push(NSB.$(ctrl.id+"_"+i).value)}if(arr.length==0)return-1;if(arr.length==1)return arr[0];return arr}});NSB.defineProperty(ctrl,"disabled",{set:function set(n){NSB.$(ctrl.id+"_contents").disabled=n},get:function get(){return NSB.$(ctrl.id+"_contents").disabled}})},getHTML:function getHTML(id,i,item,value,type){var s="";if(type!=="")type=" "+type;if(value!=="")value=" value='"+value+"'";s="    <option id="+id+"_"+i+type+" data-i18n='"+item+"'"+value+">"+item+"</option>\n";return s},addItem:function addItem(item,value,selected,disabled){var type="";if(typeof value==="undefined")value="";if(selected)type="selected";if(disabled)type="disabled";var s=NSB.bs.select.getHTML(this.id,this.length,$.i18n(item),value,type);NSB.$(this.id+"_contents").insertAdjacentHTML("beforeend",s)}};NSB.bs.define={appearance:function appearance(ctrl){NSB.defineProperty(ctrl,"appearance",{set:function set(n){$("#"+ctrl.id).removeClass(ctrl.appearance);$("#"+ctrl.id).addClass(n)},get:function get(){var i,c,w=["-danger","-default","-info","-link","-primary","-success","-warning"];var id=NSB.$(ctrl.id+"_contents")==null?ctrl.id:ctrl.id+"_contents";for(i=0;i<w.length;i++){c=ctrl.classList[0]+w[i];if(ctrl.classList[0]=="progress")c=ctrl.classList[0]+"-bar"+w[i];//console.log(c);
if($("#"+id).hasClass(c))return c}return""}})},badge:function badge(ctrl,type){if(type=="Listgroup_bs4")return;NSB.defineProperty(ctrl,"badge",{set:function set(n){if(NSB.$(ctrl.id+"_badge")==null)return;$("#"+ctrl.id+"_badge").html(n)},get:function get(){if(NSB.$(ctrl.id+"_badge")==null)return;return $("#"+ctrl.id+"_badge").html()}})},disabled_button:function disabled_button(ctrl){NSB.defineProperty(ctrl,"disabled",{set:function set(n){NSB.$(ctrl.id+"_button").disabled=n},get:function get(){if(NSB.$(ctrl.id+"_button"))return NSB.$(ctrl.id+"_button").disabled}})},disabled_contents:function disabled_contents(ctrl){NSB.defineProperty(ctrl,"disabled",{set:function set(n){for(var i=0;i<ctrl.length;i++){NSB.$(ctrl.id+"_"+i).style.cursor=n?"not-allowed":"pointer";NSB.$(ctrl.id+"_"+i).disabled=n;if(n){$("#"+ctrl.id+"_"+i).addClass("disabled")}else{$("#"+ctrl.id+"_"+i).removeClass("disabled")}}ctrl.setAttribute("disabled",n.toString())},get:function get(){return ctrl.getAttribute("disabled")=="true"}})},header_control_label:function header_control_label(ctrl){NSB.defineProperty(ctrl,"header",{set:function set(n){if($("#"+ctrl.id+" .bs4-control-label").length===0)$(ctrl).prepend("<label class='bs4-control-label' for="+ctrl.id+"></label>");$("#"+ctrl.id+" .bs4-control-label").text(n)},get:function get(){return $("#"+ctrl.id+" .bs4-control-label").text()}})},footer_help_block:function footer_help_block(ctrl){NSB.defineProperty(ctrl,"footer",{set:function set(n){if($("#"+ctrl.id+" .bs4-help-block").length===0)$(ctrl).append("<span class='bs4-help-block'></span>");$("#"+ctrl.id+" .bs4-help-block").text(n)},get:function get(){return $("#"+ctrl.id+" .bs4-help-block").text()}})},length:function length(ctrl){NSB.defineProperty(ctrl,"length",{get:function get(){var id=NSB.$(ctrl.id+"_contents")==null?ctrl.id:ctrl.id+"_contents";return NSB.$(id).children.length}})},placeholder:function placeholder(ctrl){NSB.defineProperty(ctrl,"placeholder",{set:function set(n){$("#"+ctrl.id+"_contents").attr("placeholder",n)},get:function get(){return $("#"+ctrl.id+"_contents").attr("placeholder")}})},src:function src(ctrl){NSB.defineProperty(ctrl,"src",{set:function set(n){$("#"+ctrl.id+" img").attr("src",n)},get:function get(){return $("#"+ctrl.id+" img").attr("src")}})},text:function text(ctrl,name,selector){NSB.defineProperty(ctrl,name,{set:function set(n){$("#"+ctrl.id+selector).text(n)},get:function get(){return $("#"+ctrl.id+selector).text()}})},prop:function prop(ctrl,name,selector,attr){NSB.defineProperty(ctrl,name,{set:function set(n){$("#"+ctrl.id+selector).prop(attr,n)},get:function get(){return $("#"+ctrl.id+selector).prop(attr)}})}};$(document).ready(function(){$("[data-toggle=\"tooltip\"]").tooltip();$("[data-toggle=\"popover\"]").popover()});

